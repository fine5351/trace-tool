# Oracle PeopleSoft Application Designer 教學文件

## 目錄

1. [概述](#概述)
2. [入門級教學](#入門級教學)
    - [什麼是 Application Designer](#什麼是-application-designer)
    - [安裝與設置](#安裝與設置)
    - [基本界面介紹](#基本界面介紹)
    - [連接到數據庫](#連接到數據庫)
    - [項目管理](#項目管理)
    - [基本對象類型](#基本對象類型)
    - [記錄定義](#記錄定義)
    - [欄位定義](#欄位定義)
    - [頁面設計基礎](#頁面設計基礎)
    - [入門練習](#入門練習)
3. [進階教學](#進階教學)
    - [高級頁面設計](#高級頁面設計)
    - [組件設計](#組件設計)
    - [菜單設計](#菜單設計)
    - [PeopleCode 編輯器](#peoplecode-編輯器)
    - [SQL 編輯器](#sql-編輯器)
    - [自定義對象](#自定義對象)
    - [升級工具](#升級工具)
    - [比較與合併](#比較與合併)
    - [進階練習](#進階練習)
4. [高級教學](#高級教學)
    - [性能優化](#性能優化)
    - [問題排查](#問題排查)
    - [最佳實踐](#最佳實踐)
    - [安全性考量](#安全性考量)
    - [版本控制](#版本控制)
    - [批量操作](#批量操作)
    - [高級案例研究](#高級案例研究)

## 概述

本教學文件旨在幫助不同程度的學習者掌握 Oracle PeopleSoft Application Designer 工具。無論您是完全沒有 Application Designer 經驗的初學者，還是已經了解基礎功能的進階學習者，或是想要深入了解性能調優和問題排查的高級使用者，本文檔都能為您提供所需的知識和技能。

Application Designer 是 PeopleSoft 系統中最重要的開發工具，用於創建和修改 PeopleSoft 應用程序的各種對象，包括記錄、欄位、頁面、菜單和 PeopleCode 等。通過學習 Application Designer，您可以自定義 PeopleSoft
系統，使其更好地滿足組織的需求。

## 入門級教學

本節適合完全沒有 Application Designer 經驗的初學者。我們將從最基本的概念開始，逐步建立您對 Application Designer 的理解。

### 什麼是 Application Designer

Application Designer 是 PeopleSoft 系統中的主要開發工具，用於創建和修改 PeopleSoft 應用程序的各種對象。它提供了圖形化的界面，讓開發人員可以輕鬆地設計和管理 PeopleSoft 應用程序。

Application Designer 的主要功能包括：

- 創建和修改數據庫表結構（記錄定義）
- 設計用戶界面（頁面和組件）
- 開發業務邏輯（PeopleCode）
- 創建菜單和導航路徑
- 管理安全性和權限
- 比較和升級對象

對於初學者來說，可以將 Application Designer 想像成一個特殊的「畫圖工具」，但它畫的不是普通的圖畫，而是可以在 PeopleSoft 系統中運行的應用程序。

### 安裝與設置

在開始使用 Application Designer 之前，您需要安裝和設置它。通常，這項工作由系統管理員完成，但了解基本步驟對您也很有幫助。

#### 安裝步驟：

1. **獲取安裝文件**：從 Oracle 官方網站或您的組織的 IT 部門獲取 PeopleSoft 安裝文件。

2. **安裝 PeopleTools**：Application Designer 是 PeopleTools 的一部分，所以您需要安裝 PeopleTools。

3. **安裝客戶端工具**：選擇「客戶端工具」選項，這包括 Application Designer。

4. **配置連接**：安裝完成後，您需要配置與 PeopleSoft 數據庫的連接。

#### 系統要求：

- 操作系統：Windows 10 或更高版本
- 內存：至少 8GB RAM（建議 16GB 或更多）
- 硬盤空間：至少 10GB 可用空間
- 數據庫客戶端：Oracle、Microsoft SQL Server 或 DB2（取決於您的 PeopleSoft 系統使用的數據庫）

### 基本界面介紹

當您首次打開 Application Designer，您會看到一個專業的開發環境。讓我們了解一下主要的界面元素：

1. **菜單欄**：位於頂部，包含各種命令和功能。

2. **工具欄**：位於菜單欄下方，提供常用功能的快捷按鈕。

3. **對象工作區**：主要工作區域，您可以在這裡設計和修改各種對象。

4. **項目工作區**：顯示當前項目中包含的對象。

5. **屬性面板**：顯示所選對象的屬性，您可以在這裡修改這些屬性。

6. **輸出窗口**：顯示操作結果、錯誤消息和其他信息。

7. **狀態欄**：位於底部，顯示當前狀態和其他有用信息。

### 連接到數據庫

在使用 Application Designer 之前，您需要連接到 PeopleSoft 數據庫。這是一個簡單的過程：

1. 啟動 Application Designer。

2. 在登錄窗口中，輸入以下信息：
    - 用戶 ID：您的 PeopleSoft 用戶名
    - 密碼：您的密碼
    - 數據庫類型：選擇您的數據庫類型（Oracle、SQL Server 等）
    - 服務器名稱：數據庫服務器的名稱或 IP 地址
    - 數據庫名稱：PeopleSoft 數據庫的名稱

3. 點擊「連接」按鈕。

如果連接成功，您將看到 Application Designer 的主界面，現在您可以開始使用它了。

### 項目管理

在 Application Designer 中，「項目」是一個容器，用於組織和管理相關的對象。項目可以包含記錄、欄位、頁面、菜單等各種對象。

#### 創建新項目：

1. 點擊菜單欄中的「文件」→「新建」→「項目」。

2. 在彈出的對話框中，輸入項目名稱。

3. 點擊「確定」按鈕。

#### 打開現有項目：

1. 點擊菜單欄中的「文件」→「打開」→「項目」。

2. 在彈出的對話框中，輸入項目名稱或從列表中選擇。

3. 點擊「打開」按鈕。

#### 向項目添加對象：

1. 打開項目後，點擊菜單欄中的「插入」→「對象」。

2. 在彈出的對話框中，選擇對象類型（記錄、欄位、頁面等）。

3. 輸入對象名稱或從列表中選擇。

4. 點擊「插入」按鈕。

#### 保存項目：

1. 點擊菜單欄中的「文件」→「保存」。

2. 如果是新項目，輸入項目名稱。

3. 點擊「保存」按鈕。

### 基本對象類型

Application Designer 可以創建和修改多種對象類型。以下是一些基本的對象類型：

1. **欄位**：定義數據的最小單位，如姓名、日期、金額等。

2. **記錄**：相當於數據庫表，由多個欄位組成。

3. **頁面**：用戶界面的基本單位，顯示和收集數據。

4. **組件**：相關頁面的集合，通常通過頁籤導航。

5. **菜單**：定義應用程序的導航結構。

6. **PeopleCode**：程序代碼，實現業務邏輯和自動化。

7. **SQL**：數據庫查詢和操作語句。

### 記錄定義

記錄定義是 Application Designer 中最基本的對象之一，相當於數據庫中的表。

#### 創建新記錄：

1. 點擊菜單欄中的「文件」→「新建」→「記錄」。

2. 在記錄屬性中，設置記錄類型（通常是「表」）。

3. 添加欄位到記錄：
    - 點擊工具欄中的「插入欄位」按鈕。
    - 從欄位列表中選擇欄位。
    - 或者創建新欄位（稍後會介紹）。

4. 設置欄位屬性：
    - 選擇欄位。
    - 在屬性面板中設置屬性，如是否為鍵值、是否必填等。

5. 保存記錄：點擊「文件」→「保存」，輸入記錄名稱。

#### 創建記錄到數據庫：

設計完記錄後，您需要將其創建到數據庫中：

1. 選擇記錄。

2. 點擊菜單欄中的「構建」→「創建表」。

3. 在彈出的對話框中，選擇適當的選項。

4. 點擊「創建」按鈕。

### 欄位定義

欄位是數據的最小單位，定義了數據的類型和特性。

#### 創建新欄位：

1. 點擊菜單欄中的「文件」→「新建」→「欄位」。

2. 選擇欄位類型：
    - 字符型：文本數據
    - 數字型：數值數據
    - 日期型：日期數據
    - 時間型：時間數據
    - 日期時間型：日期和時間數據
    - 圖像型：圖像數據
    - 等等

3. 設置欄位屬性：
    - 長度：數據的最大長度
    - 格式：數據的顯示格式
    - 默認值：欄位的默認值
    - 等等

4. 保存欄位：點擊「文件」→「保存」，輸入欄位名稱。

### 頁面設計基礎

頁面是用戶與 PeopleSoft 系統交互的界面。設計良好的頁面可以提高用戶體驗和工作效率。

#### 創建新頁面：

1. 點擊菜單欄中的「文件」→「新建」→「頁面」。

2. 在頁面工作區中，您可以開始設計頁面。

3. 添加頁面控件：
    - 從控件工具欄中選擇控件（如編輯框、下拉列表、按鈕等）。
    - 點擊頁面工作區，放置控件。

4. 綁定控件到記錄欄位：
    - 選擇控件。
    - 在屬性面板中，設置「記錄名稱」和「欄位名稱」。

5. 設置控件屬性：
    - 標籤文本：控件的標籤
    - 樣式：控件的外觀
    - 可見性：控件是否可見
    - 等等

6. 保存頁面：點擊「文件」→「保存」，輸入頁面名稱。

### 入門練習

以下是一些幫助您熟悉 Application Designer 的入門練習：

#### 練習 1：創建簡單的員工記錄

1. 創建以下欄位：
    - EMPLID（員工 ID）：字符型，長度 11
    - NAME（姓名）：字符型，長度 50
    - HIRE_DATE（雇用日期）：日期型
    - SALARY（薪資）：數字型，小數位 2

2. 創建名為 EMPLOYEE 的記錄，添加上述欄位。

3. 將 EMPLID 設置為鍵值欄位。

4. 創建記錄到數據庫。

#### 練習 2：設計員工信息頁面

1. 創建新頁面。

2. 添加編輯框控件，綁定到 EMPLOYEE.EMPLID。

3. 添加編輯框控件，綁定到 EMPLOYEE.NAME。

4. 添加日期控件，綁定到 EMPLOYEE.HIRE_DATE。

5. 添加編輯框控件，綁定到 EMPLOYEE.SALARY。

6. 保存頁面為 EMPLOYEE_PAGE。

完成這些練習後，您將對 Application Designer 的基本功能有一個初步的了解。接下來，您可以繼續學習更高級的功能。

## 進階教學

本節適合已經了解 Application Designer 基礎知識的用戶。我們將深入探討更複雜的功能和技術。

### 高級頁面設計

在基礎頁面設計的基礎上，您可以學習更高級的頁面設計技術，創建更複雜、更用戶友好的界面。

#### 頁面控件類型：

1. **網格**：顯示和編輯多行數據。
    - 創建網格：從控件工具欄中選擇網格控件。
    - 綁定網格到記錄：設置網格的記錄名稱。
    - 添加列：在網格中插入列，綁定到記錄欄位。

2. **分組框**：將相關控件組織在一起。
    - 創建分組框：從控件工具欄中選擇分組框控件。
    - 設置標題：在屬性面板中設置分組框的標題。
    - 添加控件：將其他控件放置在分組框內。

3. **頁籤**：在同一頁面上組織多個部分。
    - 創建頁籤：從控件工具欄中選擇頁籤控件。
    - 添加頁籤頁：右鍵點擊頁籤控件，選擇「插入頁」。
    - 設置頁籤標題：在屬性面板中設置每個頁籤頁的標題。
    - 添加控件：將其他控件放置在每個頁籤頁上。

4. **滾動區域**：當頁面內容過多時，提供滾動功能。
    - 創建滾動區域：從控件工具欄中選擇滾動區域控件。
    - 設置大小：調整滾動區域的大小。
    - 添加控件：將其他控件放置在滾動區域內。

#### 條件顯示：

您可以設置控件在特定條件下顯示或隱藏：

1. 選擇控件。

2. 在屬性面板中，找到「可見性」部分。

3. 設置可見性條件：
    - 始終可見
    - 始終隱藏
    - 基於 PeopleCode 條件

4. 如果選擇基於 PeopleCode 條件，您需要編寫 PeopleCode 來控制控件的可見性。

#### 頁面佈局技巧：

1. **對齊和分佈**：使用對齊和分佈工具，確保控件整齊排列。

2. **標籤位置**：根據需要設置標籤在控件的左側或上方。

3. **標籤樣式**：設置標籤的字體、大小和顏色。

4. **控件間距**：確保控件之間有適當的間距，避免擁擠。

5. **使用分隔線**：添加水平或垂直分隔線，分隔不同的部分。

### 組件設計

組件是相關頁面的集合，通常通過頁籤導航。組件是 PeopleSoft 中用戶交互的主要單位。

#### 創建新組件：

1. 點擊菜單欄中的「文件」→「新建」→「組件」。

2. 添加頁面到組件：
    - 點擊「插入」→「頁面」。
    - 選擇要添加的頁面。
    - 設置頁面順序和訪問模式。

3. 設置組件屬性：
    - 搜索記錄：定義如何查找數據
    - 添加模式：是否允許添加新數據
    - 更新/顯示模式：是否允許更新或只顯示數據
    - 等等

4. 保存組件：點擊「文件」→「保存」，輸入組件名稱。

#### 組件緩存：

組件緩存可以提高性能，但需要正確配置：

1. 選擇組件。

2. 在屬性面板中，找到「緩存」部分。

3. 設置緩存選項：
    - 默認：使用系統默認設置
    - 緩存：始終緩存組件
    - 不緩存：從不緩存組件

4. 如果選擇緩存，還可以設置緩存級別和條件。

### 菜單設計

菜單定義了用戶如何導航到不同的組件和頁面。

#### 創建新菜單：

1. 點擊菜單欄中的「文件」→「新建」→「菜單」。

2. 添加菜單項：
    - 點擊「插入」→「菜單項」。
    - 選擇菜單項類型（通常是「組件」）。
    - 選擇要添加的組件。
    - 設置標籤和其他屬性。

3. 組織菜單項：
    - 使用「上移」和「下移」按鈕調整菜單項順序。
    - 創建子菜單，形成層次結構。

4. 保存菜單：點擊「文件」→「保存」，輸入菜單名稱。

#### 註冊菜單：

創建菜單後，您需要將其註冊到 PeopleSoft 系統中：

1. 點擊「工具」→「註冊」→「菜單」。

2. 在彈出的對話框中，設置註冊選項。

3. 點擊「註冊」按鈕。

### PeopleCode 編輯器

PeopleCode 是 PeopleSoft 的程序語言，用於實現業務邏輯和自動化。Application Designer 提供了 PeopleCode 編輯器，用於編寫和調試 PeopleCode。

#### 打開 PeopleCode 編輯器：

1. 在項目工作區中，展開記錄或頁面。

2. 右鍵點擊欄位或控件，選擇「查看 PeopleCode」。

3. 選擇事件（如 FieldChange、SavePreChange 等）。

#### 編寫 PeopleCode：

PeopleCode 編輯器提供了語法高亮、自動完成和其他編程輔助功能：

1. 輸入 PeopleCode 語句。

2. 使用自動完成功能（按 Ctrl+空格）查找函數和變量。

3. 使用語法檢查功能（按 F7）檢查代碼錯誤。

4. 保存 PeopleCode：點擊「文件」→「保存」。

#### 調試 PeopleCode：

Application Designer 提供了調試工具，幫助您找出 PeopleCode 中的問題：

1. 設置斷點：點擊代碼行左側的空白區域。

2. 啟動調試：點擊「調試」→「開始調試」。

3. 使用調試工具欄控制執行：
    - 繼續：繼續執行直到下一個斷點
    - 單步執行：逐行執行代碼
    - 單步進入：進入函數調用
    - 單步跳出：跳出當前函數

4. 查看變量值：在「變量」窗口中查看當前變量的值。

### SQL 編輯器

SQL 編輯器用於創建和修改 SQL 語句，如視圖、索引和存儲過程。

#### 打開 SQL 編輯器：

1. 點擊菜單欄中的「文件」→「新建」→「SQL」。

2. 或者，右鍵點擊記錄，選擇「SQL」。

#### 編寫 SQL：

SQL 編輯器提供了語法高亮和其他編輯功能：

1. 輸入 SQL 語句。

2. 使用語法檢查功能檢查 SQL 錯誤。

3. 執行 SQL：點擊「執行」按鈕。

4. 查看結果：在結果窗口中查看執行結果。

5. 保存 SQL：點擊「文件」→「保存」，輸入 SQL 名稱。

### 自定義對象

除了標準對象外，您還可以創建自定義對象，擴展 PeopleSoft 的功能。

#### 自定義記錄：

1. 創建以 "Z_" 或 "Y_" 開頭的記錄，表示這是自定義記錄。

2. 添加標準欄位和自定義欄位。

3. 設置記錄屬性，如記錄類型、關係等。

4. 創建記錄到數據庫。

#### 自定義頁面：

1. 創建以 "Z_" 或 "Y_" 開頭的頁面，表示這是自定義頁面。

2. 設計頁面佈局，添加控件。

3. 綁定控件到自定義記錄和欄位。

4. 保存頁面。

#### 自定義組件：

1. 創建以 "Z_" 或 "Y_" 開頭的組件，表示這是自定義組件。

2. 添加自定義頁面到組件。

3. 設置組件屬性。

4. 保存組件。

### 升級工具

Application Designer 提供了升級工具，幫助您將自定義從一個環境遷移到另一個環境。

#### 創建升級項目：

1. 創建包含要升級對象的項目。

2. 點擊「工具」→「升級」→「創建升級項目」。

3. 在彈出的對話框中，設置升級選項。

4. 點擊「創建」按鈕。

#### 複製升級項目：

1. 點擊「工具」→「升級」→「複製項目」。

2. 在彈出的對話框中，設置源環境和目標環境。

3. 選擇要複製的項目。

4. 點擊「複製」按鈕。

### 比較與合併

Application Designer 提供了比較和合併工具，幫助您識別和解決不同環境之間的差異。

#### 比較對象：

1. 點擊「工具」→「比較和報告」→「對象」。

2. 在彈出的對話框中，選擇要比較的對象類型和名稱。

3. 設置比較選項，如比較目標（數據庫、文件等）。

4. 點擊「比較」按鈕。

5. 查看比較結果，識別差異。

#### 合併對象：

1. 在比較結果中，選擇要合併的差異。

2. 點擊「合併」按鈕。

3. 在彈出的對話框中，設置合併選項。

4. 點擊「合併」按鈕。

5. 查看合併結果，確認更改。

### 進階練習

以下是一些幫助您掌握 Application Designer 進階功能的練習：

#### 練習 1：創建員工管理組件

1. 創建以下記錄：
    - EMPLOYEE（員工基本信息）
    - EMPLOYEE_JOB（工作信息）
    - EMPLOYEE_PAYROLL（薪資信息）

2. 為每個記錄創建頁面。

3. 創建組件，添加這些頁面。

4. 設置組件屬性，如搜索記錄、添加模式等。

5. 創建菜單，添加該組件。

#### 練習 2：添加業務邏輯

1. 為 EMPLOYEE.HIRE_DATE 添加 SavePreChange PeopleCode，確保雇用日期不能晚於當前日期。

2. 為 EMPLOYEE_PAYROLL.SALARY 添加 FieldChange PeopleCode，根據工作級別自動計算薪資範圍。

3. 為組件添加 PostBuild PeopleCode，加載員工的歷史數據。

完成這些練習後，您將對 Application Designer 的進階功能有更深入的了解。接下來，您可以繼續學習高級功能。

## 高級教學

本節適合已經掌握 Application Designer 基礎和進階功能的用戶。我們將深入探討系統優化、問題排查和高級管理技術。

### 性能優化

優化 Application Designer 開發的應用程序性能是確保用戶滿意度和系統效率的關鍵。

#### 記錄優化：

1. **索引設計**：
    - 為常用的搜索條件創建適當的索引。
    - 避免創建過多索引，這會影響插入和更新性能。
    - 定期分析索引使用情況，刪除不必要的索引。

2. **記錄結構**：
    - 將大型記錄拆分為多個相關記錄。
    - 使用子記錄存儲不常用的欄位。
    - 適當使用長文本欄位和圖像欄位，避免在主記錄中存儲大量數據。

3. **SQL 優化**：
    - 使用 SQL 編輯器分析和優化 SQL 語句。
    - 避免使用 SELECT *，只選擇需要的欄位。
    - 使用適當的 WHERE 子句限制結果集大小。
    - 考慮使用視圖簡化複雜查詢。

#### 頁面優化：

1. **控件數量**：
    - 減少頁面上的控件數量，特別是不必要的裝飾性控件。
    - 使用頁籤或分組框組織大量控件。
    - 考慮將不常用的功能移到單獨的頁面。

2. **延遲加載**：
    - 使用滾動區域實現數據的延遲加載。
    - 配置網格以分頁方式加載數據。
    - 使用 PeopleCode 控制數據加載時機。

3. **緩存策略**：
    - 適當配置組件緩存。
    - 使用 PeopleCode 緩存經常訪問的數據。
    - 定期清理緩存，避免內存溢出。

#### PeopleCode 優化：

1. **代碼效率**：
    - 避免在循環中執行數據庫查詢。
    - 使用數組和批處理操作代替單行處理。
    - 減少不必要的變量和對象創建。

2. **事件選擇**：
    - 選擇適當的事件處理 PeopleCode。
    - 避免在 RowInit 或 SearchInit 等頻繁觸發的事件中執行複雜操作。
    - 使用 PostBuild 事件進行一次性初始化。

3. **SQL 共享**：
    - 使用 SQL 對象重用 SQL 語句。
    - 適當使用綁定變量，提高 SQL 緩存命中率。
    - 監控 SQL 性能，識別慢查詢。

### 問題排查

在開發和維護 PeopleSoft 應用程序時，您可能會遇到各種問題。掌握有效的問題排查技能可以幫助您快速解決這些問題。

#### 常見問題類型：

1. **編譯錯誤**：
    - PeopleCode 語法錯誤
    - SQL 語法錯誤
    - 對象引用錯誤

2. **運行時錯誤**：
    - 數據庫連接問題
    - 權限不足
    - 數據完整性問題
    - 邏輯錯誤

3. **性能問題**：
    - 頁面加載緩慢
    - 查詢執行時間長
    - 系統響應遲鈍

#### 診斷工具：

1. **PeopleCode 調試器**：
    - 設置斷點和觀察點
    - 單步執行代碼
    - 檢查變量值
    - 分析調用堆棧

2. **SQL 跟踪**：
    - 啟用 SQL 跟踪
    - 分析 SQL 執行計劃
    - 識別慢查詢
    - 優化 SQL 語句

3. **應用設計器日誌**：
    - 查看編譯和構建日誌
    - 分析錯誤消息
    - 跟踪對象依賴關係

4. **系統監控工具**：
    - 使用性能監視器
    - 分析應用服務器日誌
    - 監控數據庫性能

#### 排查方法：

1. **隔離問題**：
    - 確定問題是在特定環境、用戶或操作中發生
    - 創建最小可重現的示例
    - 排除外部因素的影響

2. **系統檢查**：
    - 驗證系統配置
    - 檢查最近的更改
    - 確認對象版本一致性
    - 檢查安全設置

3. **逐步排查**：
    - 從簡單的解決方案開始
    - 一次只更改一個變量
    - 記錄每個步驟和結果
    - 使用排除法縮小問題範圍

4. **尋求幫助**：
    - 查閱 PeopleSoft 文檔
    - 搜索 Oracle 支持知識庫
    - 咨詢同事或社區
    - 在必要時聯繫 Oracle 支持

### 最佳實踐

遵循最佳實踐可以幫助您創建高質量、易於維護的 PeopleSoft 應用程序。

#### 開發標準：

1. **命名規範**：
    - 使用一致的命名前綴（如 Z_ 或 Y_ 表示自定義對象）
    - 採用有意義的名稱，反映對象的用途
    - 遵循組織的命名標準
    - 記錄命名約定和例外情況

2. **代碼風格**：
    - 使用一致的縮進和格式
    - 添加適當的註釋和文檔
    - 將複雜邏輯分解為小型、可管理的函數
    - 避免代碼重複，使用共享函數和應用類

3. **模塊化設計**：
    - 創建可重用的組件和記錄
    - 設計通用框架和模板
    - 將業務邏輯與用戶界面分離
    - 使用應用類實現面向對象設計

#### 變更管理：

1. **版本控制**：
    - 使用項目管理跟踪對象變更
    - 維護變更日誌和文檔
    - 實施檢出/檢入流程
    - 定期備份項目和代碼

2. **環境管理**：
    - 維護開發、測試和生產環境的分離
    - 建立明確的升級和部署流程
    - 使用比較和合併工具管理環境差異
    - 實施變更審批和驗證流程

3. **測試策略**：
    - 創建單元測試和集成測試
    - 執行用戶驗收測試
    - 進行性能和負載測試
    - 實施自動化測試框架

#### 文檔和知識共享：

1. **技術文檔**：
    - 記錄系統架構和設計決策
    - 創建對象和代碼的詳細說明
    - 維護依賴關係和接口文檔
    - 更新配置和參數說明

2. **用戶文檔**：
    - 創建用戶手冊和操作指南
    - 提供在線幫助和工具提示
    - 記錄業務流程和用例
    - 更新培訓材料

3. **知識庫**：
    - 建立常見問題和解決方案庫
    - 記錄問題排查步驟和經驗
    - 分享最佳實踐和技巧
    - 促進團隊學習和知識交流

### 安全性考量

在 Application Designer 中開發應用程序時，安全性是一個重要的考慮因素。

#### 數據安全：

1. **欄位級安全**：
    - 使用 PeopleTools 安全性設置欄位級權限
    - 限制敏感數據的訪問
    - 實施數據加密和掩碼
    - 審計敏感數據的訪問

2. **行級安全**：
    - 設計和實施行級安全視圖
    - 使用 PeopleCode 實施動態行級安全
    - 測試和驗證安全規則
    - 監控安全性能影響

3. **查詢安全**：
    - 限制查詢訪問和結果集大小
    - 防止 SQL 注入攻擊
    - 實施查詢超時和資源限制
    - 審計查詢使用情況

#### 應用安全：

1. **權限列表**：
    - 創建細粒度的權限列表
    - 遵循最小權限原則
    - 定期審查和更新權限
    - 記錄權限分配和變更

2. **角色設計**：
    - 基於職責創建角色
    - 實施角色層次結構和繼承
    - 避免權限過度分配
    - 定期審查角色成員資格

3. **安全測試**：
    - 執行安全滲透測試
    - 驗證權限和訪問控制
    - 測試邊界條件和例外情況
    - 模擬安全攻擊和響應

#### 開發安全：

1. **代碼審查**：
    - 實施代碼審查流程
    - 檢查安全漏洞和弱點
    - 驗證輸入驗證和錯誤處理
    - 審查 SQL 注入和跨站腳本風險

2. **安全編碼**：
    - 使用參數化查詢
    - 實施適當的錯誤處理
    - 避免在代碼中硬編碼憑據
    - 限制調試信息的暴露

3. **安全部署**：
    - 實施安全的部署流程
    - 驗證對象和代碼的完整性
    - 限制生產環境的直接訪問
    - 監控和審計部署活動

### 版本控制

有效的版本控制對於管理 Application Designer 開發的應用程序至關重要。

#### 項目管理：

1. **項目組織**：
    - 按功能或模塊組織項目
    - 創建可管理大小的項目
    - 維護項目依賴關係文檔
    - 實施一致的項目命名和版本控制

2. **對象鎖定**：
    - 使用 Application Designer 的鎖定功能
    - 實施檢出/檢入流程
    - 解決鎖定衝突
    - 監控長時間鎖定

3. **版本標記**：
    - 為項目版本創建標籤
    - 記錄版本變更和發布說明
    - 維護版本歷史和回退點
    - 實施版本命名約定

#### 外部版本控制：

1. **集成 Git 或 SVN**：
    - 將 Application Designer 項目導出到文件
    - 使用 Git 或 SVN 管理這些文件
    - 實施分支和合併策略
    - 設置持續集成流程

2. **變更跟踪**：
    - 記錄每個變更的目的和影響
    - 將變更與需求或問題關聯
    - 實施代碼審查和批准流程
    - 維護變更日誌和歷史

3. **環境同步**：
    - 使用比較和合併工具同步環境
    - 創建環境差異報告
    - 實施受控部署流程
    - 驗證環境一致性

#### 備份和恢復：

1. **定期備份**：
    - 備份項目定義和對象
    - 存儲備份在安全位置
    - 實施自動備份計劃
    - 測試備份的完整性

2. **恢復計劃**：
    - 制定詳細的恢復流程
    - 定期測試恢復能力
    - 記錄恢復步驟和聯繫人
    - 設置恢復優先級和目標

3. **歷史保留**：
    - 定義對象版本保留策略
    - 存檔舊版本和棄用對象
    - 維護變更歷史和審計跟踪
    - 實施合規和法規要求

### 批量操作

Application Designer 提供了多種工具和技術，用於執行批量操作，提高開發效率。

#### 批量修改：

1. **查找和替換**：
    - 使用 Application Designer 的查找和替換功能
    - 在多個對象中執行文本替換
    - 預覽和驗證更改
    - 記錄批量更改

2. **批量屬性更新**：
    - 使用 Application Designer 的批量更新功能
    - 同時修改多個對象的屬性
    - 創建和使用屬性模板
    - 驗證批量更改的結果

3. **腳本自動化**：
    - 創建 PeopleCode 腳本執行批量操作
    - 使用應用引擎自動化複雜任務
    - 開發自定義工具和實用程序
    - 記錄和測試自動化腳本

#### 批量部署：

1. **升級項目**：
    - 創建包含多個對象的升級項目
    - 設置適當的升級選項
    - 執行預升級驗證
    - 監控升級進度和結果

2. **比較和報告**：
    - 生成環境差異報告
    - 識別需要升級的對象
    - 創建升級文檔和計劃
    - 驗證升級完整性

3. **批量測試**：
    - 開發自動化測試腳本
    - 執行批量功能測試
    - 驗證升級後的系統行為
    - 生成測試報告和結果

#### 數據遷移：

1. **數據導入工具**：
    - 使用 Application Designer 創建數據導入項目
    - 設計有效的數據映射和轉換
    - 執行數據驗證和清理
    - 監控導入進度和錯誤

2. **批量數據處理**：
    - 開發應用引擎程序處理大量數據
    - 實施錯誤處理和恢復機制
    - 優化批處理性能
    - 生成處理報告和日誌

3. **數據歸檔**：
    - 設計數據歸檔策略
    - 開發歸檔和清理程序
    - 實施數據保留策略
    - 監控數據增長和系統性能

### 高級案例研究

以下案例研究展示了如何在實際情況中應用 Application Designer 的高級功能。

#### 案例 1：性能優化

**問題**：
一個大型人力資源管理組件加載緩慢，用戶抱怨等待時間長。

**分析**：

1. 使用性能監視器識別瓶頸。
2. 發現組件加載時執行了多個低效的 SQL 查詢。
3. 頁面包含過多控件和不必要的數據加載。

**解決方案**：

1. 重構 SQL 查詢，添加適當的索引。
2. 實施延遲加載，只在需要時加載詳細數據。
3. 重新設計頁面，使用頁籤組織內容，減少初始加載的控件數量。
4. 優化 PeopleCode，減少數據庫調用。

**結果**：
組件加載時間從 15 秒減少到 3 秒，用戶滿意度顯著提高。

#### 案例 2：複雜業務規則實現

**問題**：
需要實現複雜的薪資計算規則，包括多種因素和條件。

**分析**：

1. 規則涉及員工類型、工作年限、績效評級和市場因素。
2. 規則經常變化，需要靈活的設計。
3. 計算需要高性能，因為它影響大量員工。

**解決方案**：

1. 設計規則引擎架構，使用記錄存儲規則參數。
2. 創建自定義應用類實現規則邏輯。
3. 開發管理界面，允許業務用戶調整規則參數。
4. 實施緩存和批處理優化，提高性能。

**結果**：
系統能夠靈活處理複雜規則，業務用戶可以自行調整參數，無需 IT 干預。

#### 案例 3：系統集成挑戰

**問題**：
需要將 PeopleSoft 系統與多個外部系統集成，包括實時和批量數據交換。

**分析**：

1. 集成涉及不同協議和數據格式。
2. 需要處理大量數據，同時保持系統性能。
3. 需要錯誤處理和恢復機制。

**解決方案**：

1. 設計模塊化集成架構，使用 Application Designer 創建集成組件。
2. 開發自定義應用類處理不同協議和格式。
3. 實施消息隊列和異步處理，提高性能和可靠性。
4. 創建監控和管理界面，跟踪集成狀態和錯誤。

**結果**：
成功實現與多個系統的集成，數據交換可靠且高效，系統能夠處理錯誤並自動恢復。

#### 案例 4：大型升級項目

**問題**：
需要將高度自定義的 PeopleSoft 系統升級到新版本。

**分析**：

1. 系統包含數千個自定義對象。
2. 許多自定義與新版本功能衝突。
3. 需要最小化業務中斷。

**解決方案**：

1. 使用 Application Designer 的比較和報告工具識別影響的對象。
2. 開發詳細的升級計劃，包括重構和替代方案。
3. 創建自動化測試腳本驗證功能。
4. 實施分階段升級策略，減少風險。

**結果**：
成功完成升級，保留關鍵自定義功能，同時採用新版本的改進，業務中斷最小化。

通過這些案例研究，您可以看到如何在實際情況中應用 Application Designer 的高級功能，解決複雜的業務和技術挑戰。這些經驗和技巧將幫助您成為 PeopleSoft 開發的專家。
